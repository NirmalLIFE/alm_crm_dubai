<ol class="flex font-semibold text-primary dark:text-white-dark">
    <li class="bg-[#ebedf2] ltr:rounded-l-md rtl:rounded-r-md dark:bg-[#1b2e4b]">
        <a routerLink="/dashboard"
            class="relative flex h-full items-center p-1.5 before:absolute before:inset-y-0 before:z-[1] before:m-auto before:h-0 before:w-0 before:border-[16px] before:border-l-[15px] before:border-r-0 before:border-b-transparent before:border-l-[#ebedf2] before:border-t-transparent hover:text-primary/70 ltr:pl-3 ltr:pr-2 ltr:before:-right-[15px] rtl:pl-2 rtl:pr-3 rtl:before:-left-[15px] rtl:before:rotate-180 dark:before:border-l-[#1b2e4b] dark:hover:text-white-dark/70">Home</a>
    </li>
    <li class="bg-[#ebedf2] dark:bg-[#1b2e4b]">
        <a
            class="relative flex h-full items-center bg-primary p-1.5 text-white-light before:absolute before:inset-y-0 before:z-[1] before:m-auto before:h-0 before:w-0 before:border-[16px] before:border-l-[15px] before:border-r-0 before:border-b-transparent before:border-l-primary before:border-t-transparent ltr:pl-6 ltr:pr-2 ltr:before:-right-[15px] rtl:pl-2 rtl:pr-6 rtl:before:-left-[15px] rtl:before:rotate-180">Lead
            Management</a>
    </li>
    <li class="bg-[#ebedf2] dark:bg-[#1b2e4b]">
        <a
            class="relative flex h-full items-center p-1.5 px-3 before:absolute before:inset-y-0 before:z-[1] before:m-auto before:h-0 before:w-0 before:border-[16px] before:border-l-[15px] before:border-r-0 before:border-b-transparent before:border-l-[#ebedf2] before:border-t-transparent hover:text-primary/70 ltr:pl-6 ltr:before:-right-[15px] rtl:pr-6 rtl:before:-left-[15px] rtl:before:rotate-180 dark:before:border-l-[#1b2e4b] dark:hover:text-white-dark/70">WhatsApp
            Leads</a>
    </li>
</ol>
<div class="panel mb-5 mt-5 pb-5">
    <div class="grid grid-cols-5 gap-4 sm:grid-cols-5">
        <div>
            <label>Date From</label>
            <input [(ngModel)]="dateFrom" type="date" class="form-input text-xs" placeholder="Date From " />
        </div>
        <div>
            <label>Date To</label>
            <input [(ngModel)]="dateTo" type="date" class="form-input text-xs" placeholder="Date To " />
        </div>
        <div>
            <label style="color: white;">.</label>
            <button type="button" class="btn btn-primary btn-md" style="width: 50%" size="small"
                (click)="getwhatsAppLeads()">SEARCH</button>
        </div>
    </div>
</div>
<div *ngIf="load_flag" style="text-align: center">
    <span
        class="m-auto mb-10 inline-block h-14 w-14 animate-[spin_3s_linear_infinite] rounded-full border-8 border-b-success border-l-primary border-r-warning border-t-danger align-middle"></span>
</div>
<div class="panel mb-5 mt-5 pb-5" *ngIf="!load_flag">
    <div class="flex flex-wrap items-center justify-center gap-3" *ngIf="!load_flag">
        <button type="button" class="btn btn-primary my-4" (click)="filterWhatsappLeads(0)"
            [ngStyle]="{opacity:selected==0?'100%':'70%'}">
            TOTAL WHATSAPP LEADS<span class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                style="font-size: 20px; font-weight: 700;padding-top: 0.4rem;padding-bottom: 0.4rem;">
                {{allWhatsappLeadList.length}}</span>
        </button>
        <button type="button" class="btn btn-warning my-4" [ngStyle]="{ 'opacity':selected==1?'100%':'70%' }">
            <span (click)="openLeadwiseModal(campaignWhatsappLeads,0)">
                WHATSAPP CAMPAIGN LEADS
            </span>
            <!-- filterWhatsappLeads(1); -->
            <span class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                style="font-size: 20px; font-weight: 700;padding-top: 0.4rem;padding-bottom: 0.4rem;"
                (click)=" filterWhatsappLeads(1)">
                {{campaignWhatsappLeads.length}}</span>
        </button>
        <button type="button" class="btn btn-secondary my-4" [ngStyle]="{ 'opacity':selected==2?'100%':'70%' }">
            <!-- filterWhatsappLeads(2) -->
            <span (click)="openLeadwiseModal(directWhatsappLeads,1)">
                WHATSAPP DIRECT LEADS
            </span>
            <span class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                style="font-size: 20px; font-weight: 700;padding-top: 0.4rem;padding-bottom: 0.4rem;"
                (click)=" filterWhatsappLeads(2)">
                {{directWhatsappLeads.length}}</span>
        </button>
        <!-- <button type="button" class="btn btn-success my-4" (click)="filterWhatsappLeads(3)"
            [ngStyle]="{opacity:selected==3?'100%':'70%'}">
            WHATSAPP OPEN JOBCARD LEADS<span class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                style="font-size: 20px; font-weight: 700;padding-top: 0.4rem;padding-bottom: 0.4rem;">
                {{openJobcardLeads}}</span>
        </button> -->
    </div>
    <div class="flex flex-wrap items-end justify-end gap-3"
        *ngIf="user_role == '1' || user_role == '2' || user_role == '13' ">
        <div hlMenu class=" mb-5 dropdown" *ngIf="!load_flag">
            <button type="button" hlMenuButton class="btn btn-info btn-sm dropdown-toggle">
                View More
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5">
                    <path d="M19 9L12 15L5 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>
            <ul *hlMenuItems class="whitespace-nowrap ltr:right-0 rtl:left-0">
                <li><a (click)="viewMorereports(1)">Campaign Leads</a></li>
                <li><a (click)="viewMorereports(2)">Direct Leads</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="panel mt-5 pb-0" *ngIf="!load_flag">
    <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
        <h5 class="text-lg font-semibold dark:text-white-light">WhatsApp Leads</h5>
        <div class="flex items-center gap-5 ltr:ml-auto rtl:mr-auto">

            <input [(ngModel)]="search" type="text" class="form-input w-auto" placeholder="Search..." />
        </div>
    </div>
    <div class="datatable">
        <ng-datatable [rows]="whatsappLeadList" [columns]="cols" [search]="search" [sortable]="true"
            [columnFilter]="false" skin="whitespace-nowrap table-hover bh-table-compact"
            firstArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
            lastArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> '
            previousArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
            nextArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'>
            <ng-template slot="phone" let-value="data">
                <button type="button" (click)="openCallLogs(value.phone)" class="btn btn-outline-secondary btn-sm"
                    ngxTippy="{{ value.phone }}" [tippyProps]="{ theme: 'info' }">
                    ****{{ value.phone | slice : -6 }}
                </button>
            </ng-template>
            <ng-template slot="lead_code" let-value="data">
                <button type="button" class="btn btn-outline-primary btn-sm">
                    {{ value.lead_code }}
                </button>
            </ng-template>
            <ng-template slot="name" let-value="data">
                <span *ngIf="value.name != null">{{value.name}}</span>
                <span *ngIf="value.name == null">NIL</span>
            </ng-template>
            <ng-template slot="lead_source" let-value="data">
                <span>{{value.lead_source}}</span>
            </ng-template>
            <ng-template slot="lead_note" let-value="data">
                <span ngxTippy="{{ value.lead_note }}" *ngIf="value.lead_note!=null" [tippyProps]="{ theme: 'info' }">{{
                    value.lead_note | slice : 0 : 30 }}<ng-container
                        *ngIf="value.lead_note.length > 50">...</ng-container></span>
            </ng-template>
            <ng-template slot="campaign_displayname" let-value="data">
                <span ngxTippy="{{ value.campaign_displayname }}" *ngIf="value.campaign_displayname!=null"
                    [tippyProps]="{ theme: 'info' }">{{ value.campaign_displayname | slice : 0 : 30 }}<ng-container
                        *ngIf="value.campaign_displayname.length > 50">...</ng-container></span>
            </ng-template>
            <ng-template slot="action" let-value="data">
                <div>
                    <button type="button" class="ltr:mr-2 rtl:ml-2" ngxTippy="Chat With Customer"
                        (click)="chatWithCustomer()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 16V8" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M8 14V10" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M16 14V10" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                            <path
                                d="M17 3.33782C15.5291 2.48697 13.8214 2 12 2C6.47715 2 2 6.47715 2 12C2 13.5997 2.37562 15.1116 3.04346 16.4525C3.22094 16.8088 3.28001 17.2161 3.17712 17.6006L2.58151 19.8267C2.32295 20.793 3.20701 21.677 4.17335 21.4185L6.39939 20.8229C6.78393 20.72 7.19121 20.7791 7.54753 20.9565C8.88837 21.6244 10.4003 22 12 22C17.5228 22 22 17.5228 22 12C22 10.1786 21.513 8.47087 20.6622 7"
                                stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                        </svg>

                    </button>
                </div>
            </ng-template>
        </ng-datatable>
    </div>
</div>
<modal #calllogmodal class="modal-top animate animate-slide-in-down extra-large-modal call-view"
    [closeOnOutsideClick]="false" style="max-width: 90vw;">
    <ng-template #modalHeader>
        <div style=" align-items: center; display: flex; ">
            Recent Call Logs
        </div>
    </ng-template>
    <ng-template #modalBody>
        <app-call-log-detail [calllogphn]="calllogphn"></app-call-log-detail>
    </ng-template>
    <ng-template #modalFooter>
        <button type="button" (click)="callhistoryModal()" class="btn btn-outline-danger">DISMISS</button>
    </ng-template>
</modal>
<modal #jobcardmodal class="modal-top animate animate-slide-in-down extra-large-modal call-view"
    [closeOnOutsideClick]="false" style="max-width: 90vw;">
    <ng-template #modalHeader>
        <div style=" align-items: center; display: flex;color: #4361ee; ">
            {{jobCardModalHeading}}
        </div>
    </ng-template>
    <ng-template #modalBody>
        <div class="flex flex-wrap items-center justify-center gap-3" *ngIf="campaignJobcardFlag">
            <!-- <button type="button" class="btn btn-primary my-4" (click)="modalFilterWhatsappLeads(0)"
                [ngStyle]="{opacity:modalSelected==0?'100%':'70%'}">
                WHATSAPP CONVERTED LEADS<span class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                    style="font-size: 20px; font-weight: 700;padding-top: 0.4rem;padding-bottom: 0.4rem;">
                    {{ convertedLeads }}</span>
            </button> -->
            <button type="button" class="btn btn-warning my-4" (click)="modalFilterWhatsappLeads(1)"
                [ngStyle]="{opacity:modalSelected==1?'100%':'70%'}">
                OPEN JOBCARD LEADS<span class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                    style="font-size: 20px; font-weight: 700;padding-top: 0.4rem;padding-bottom: 0.4rem;">
                    {{ openJobcardLeads }}</span>
            </button>
            <button type="button" class="btn btn-success my-4" (click)="modalFilterWhatsappLeads(2)"
                [ngStyle]="{opacity:modalSelected==2?'100%':'70%'}">
                INVOICE JOBCARD LEADS<span class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                    style="font-size: 20px; font-weight: 700;padding-top: 0.4rem;padding-bottom: 0.4rem;">
                    {{ invJobcardLeads }}</span>
            </button>
        </div>
        <div class="flex flex-wrap items-center justify-center gap-3" *ngIf="!campaignJobcardFlag">
            <!-- <button type="button" class="btn btn-primary my-4" (click)="modalFilterWhatsappLeads(3)"
                [ngStyle]="{opacity:modalSelected==3?'100%':'70%'}">
                WHATSAPP CONVERTED LEADS<span class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                    style="font-size: 20px; font-weight: 700;padding-top: 0.4rem;padding-bottom: 0.4rem;">
                    {{ convertedLeads }}</span>
            </button> -->
            <button type="button" class="btn btn-warning my-4" (click)="modalFilterWhatsappLeads(4)"
                [ngStyle]="{opacity:modalSelected==4?'100%':'70%'}">
                OPEN JOBCARD LEADS<span class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                    style="font-size: 20px; font-weight: 700;padding-top: 0.4rem;padding-bottom: 0.4rem;">
                    {{ openJobcardLeads }}</span>
            </button>
            <button type="button" class="btn btn-success my-4" (click)="modalFilterWhatsappLeads(5)"
                [ngStyle]="{opacity:modalSelected==5?'100%':'70%'}">
                INVOICE JOBCARD LEADS<span class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                    style="font-size: 20px; font-weight: 700;padding-top: 0.4rem;padding-bottom: 0.4rem;">
                    {{ invJobcardLeads }}</span>
            </button>
        </div>
        <div class="panel mt-5 pb-0">
            <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
                <h5 class="text-lg font-semibold dark:text-white-light" *ngIf="campaignJobcardFlag">WhatsApp Campaign
                    Leads</h5>
                <h5 class="text-lg font-semibold dark:text-white-light" *ngIf="!campaignJobcardFlag">WhatsApp Direct
                    Leads</h5>
                <div class="flex items-center gap-5 ltr:ml-auto rtl:mr-auto">
                    <input [(ngModel)]="search" type="text" class="form-input w-auto" placeholder="Search..." />
                </div>
            </div>
            <div class="datatable" *ngIf="campaignJobcardFlag">
                <ng-datatable [rows]="allCampaignLeads" [columns]="campaignCols" [search]="search" [sortable]="true"
                    [columnFilter]="false" skin="whitespace-nowrap table-hover bh-table-compact"
                    firstArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                    lastArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> '
                    previousArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                    nextArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'>
                    <ng-template slot="phone" let-value="data">
                        <button type="button" class="btn btn-outline-secondary btn-sm" ngxTippy="{{ value.phone }}"
                            [tippyProps]="{ theme: 'info' }">
                            ****{{ value.phone | slice : -6 }}
                        </button>
                    </ng-template>
                    <ng-template slot="lead_code" let-value="data">
                        <button type="button" class="btn btn-outline-primary btn-sm">
                            {{ value.lead_code }}
                        </button>
                    </ng-template>
                    <ng-template slot="name" let-value="data">
                        <span *ngIf="value.name != null">{{value.name}}</span>
                        <span *ngIf="value.name == null">NIL</span>
                    </ng-template>
                    <ng-template slot="lead_source" let-value="data">
                        <span>{{value.lead_source}}</span>
                    </ng-template>
                    <ng-template slot="lead_note" let-value="data">
                        <span ngxTippy="{{ value.lead_note }}" *ngIf="value.lead_note!=null"
                            [tippyProps]="{ theme: 'info' }">{{ value.lead_note | slice : 0 : 30 }}<ng-container
                                *ngIf="value.lead_note.length > 50">...</ng-container></span>
                    </ng-template>
                    <ng-template slot="campaign_displayname" let-value="data">
                        <span ngxTippy="{{ value.campaign_displayname }}" *ngIf="value.campaign_displayname!=null"
                            [tippyProps]="{ theme: 'info' }">{{ value.campaign_displayname | slice : 0 : 30
                            }}<ng-container *ngIf="value.campaign_displayname.length > 50">...</ng-container></span>
                    </ng-template>
                </ng-datatable>
            </div>
            <div class="datatable" *ngIf="!campaignJobcardFlag">
                <ng-datatable [rows]="allDirectLeads" [columns]="directCols" [search]="search" [sortable]="true"
                    [columnFilter]="false" skin="whitespace-nowrap table-hover bh-table-compact"
                    firstArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                    lastArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> '
                    previousArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                    nextArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'>
                    <ng-template slot="phone" let-value="data">
                        <button type="button" class="btn btn-outline-secondary btn-sm" ngxTippy="{{ value.phone }}"
                            [tippyProps]="{ theme: 'info' }">
                            ****{{ value.phone | slice : -6 }}
                        </button>
                    </ng-template>
                    <ng-template slot="lead_code" let-value="data">
                        <button type="button" class="btn btn-outline-primary btn-sm">
                            {{ value.lead_code }}
                        </button>
                    </ng-template>
                    <ng-template slot="name" let-value="data">
                        <span *ngIf="value.name != null">{{value.name}}</span>
                        <span *ngIf="value.name == null">NIL</span>
                    </ng-template>
                    <ng-template slot="lead_source" let-value="data">
                        <span>{{value.lead_source}}</span>
                    </ng-template>
                    <ng-template slot="lead_note" let-value="data">
                        <span ngxTippy="{{ value.lead_note }}" *ngIf="value.lead_note!=null"
                            [tippyProps]="{ theme: 'info' }">{{ value.lead_note | slice : 0 : 30 }}<ng-container
                                *ngIf="value.lead_note.length > 50">...</ng-container></span>
                    </ng-template>
                </ng-datatable>
            </div>
        </div>

    </ng-template>
    <ng-template #modalFooter>
        <button type="button" (click)="jobcardmodal.close()" class="btn btn-outline-danger">DISMISS</button>
    </ng-template>
</modal>
<modal #leadWiseModal class="modal-top animate animate-slide-in-down extra-large-modal call-view"
    [closeOnOutsideClick]="false" style="max-width: 90vw;">
    <ng-template #modalHeader>
        <div style=" align-items: center; display: flex;color: #1b00ff;">
            Purpose-Wise Lead Status Overview
        </div>
    </ng-template>
    <ng-template #modalBody>
        <div class="mt-1 mb-2" style="font-size: 15px;font-weight: 700;"> {{allLeadsPurposeCountName}} - <a
                class="text-secondary">{{allLeadsPurposeCount}}</a></div>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
            <ng-container *ngFor="let purpose of leadPurposeArray">
                <div *ngIf="purpose.purposeArray.length > 0"
                    class="max-w-[24rem] w-full bg-white shadow-[4px_6px_10px_-3px_#bfc9d4] rounded border border-[#e0e6ed] dark:border-[#1b2e4b] dark:bg-[#191e3a] dark:shadow-none p-5">
                    <div class="flex justify-between mb-5">
                        <h6 class="text-[#0e1726] font-semibold text-base dark:text-white-light">{{ purpose.call_purpose
                            }}</h6>
                    </div>
                    <div class="grid grid-cols-3 gap-5">
                        <div class="text-center">
                            <span class="font-semibold" style="font-size: small;">Leads</span>
                            <span class="text-primary font-semibold block">{{ purpose.purposeArray.length }}</span>
                        </div>
                        <div class="text-center">
                            <span class="font-semibold" style="font-size: small;">Closed</span>
                            <span class="text-danger font-semibold block">{{ purpose.closedCount }}</span>
                        </div>
                        <div class="text-center">
                            <span class="font-semibold" style="font-size: small;">Converted</span>
                            <span class="text-success font-semibold block">{{ purpose.convertedCount }}</span>
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>









        <!-- <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
            <h5 class="text-lg font-semibold dark:text-white-light">WhatsApp Leads</h5>
            <div class="flex items-center gap-5 ltr:ml-auto rtl:mr-auto">

                <input [(ngModel)]="search" type="text" class="form-input w-auto" placeholder="Search..." />
            </div>
        </div>
        <div class="datatable">
            <ng-datatable [rows]="leadPurposeArray" [columns]="leadCols" [search]="search" [sortable]="true"
                [columnFilter]="false" skin="whitespace-nowrap table-hover bh-table-compact"
                firstArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                lastArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> '
                previousArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                nextArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'>

                <ng-template slot="phone" let-value="data">
                    <button type="button" (click)="openCallLogs(value.phone)" class="btn btn-outline-secondary btn-sm"
                        ngxTippy="{{ value.phone }}" [tippyProps]="{ theme: 'info' }">
                        ****{{ value.phone | slice : -6 }}
                    </button>
                </ng-template>
                <ng-template slot="lead_code" let-value="data">
                    <button type="button" class="btn btn-outline-primary btn-sm">
                        {{ value.lead_code }}
                    </button>
                </ng-template>
                <ng-template slot="name" let-value="data">
                    <span *ngIf="value.name != null">{{value.name}}</span>
                    <span *ngIf="value.name == null">NIL</span>
                </ng-template>
                <ng-template slot="lead_source" let-value="data">
                    <span>{{value.lead_source}}</span>
                </ng-template>
                <ng-template slot="smc_name" let-value="data">
                    <span *ngIf="value.smc_name != null">{{value.smc_name}}</span>
                    <span *ngIf="value.smc_name == null">NIL</span>
                </ng-template>
            </ng-datatable>
        </div> -->
    </ng-template>
    <ng-template #modalFooter>
        <button type="button" (click)="closeLeadWiseModal()" class="btn btn-outline-danger">DISMISS</button>
    </ng-template>
</modal>