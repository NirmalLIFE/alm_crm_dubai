<ol class="flex font-semibold text-primary dark:text-white-dark">
    <li class="bg-[#ebedf2] ltr:rounded-l-md rtl:rounded-r-md dark:bg-[#1b2e4b]">
        <a routerLink="/dashboard"
            class="relative flex h-full items-center p-1.5 before:absolute before:inset-y-0 before:z-[1] before:m-auto before:h-0 before:w-0 before:border-[16px] before:border-l-[15px] before:border-r-0 before:border-b-transparent before:border-l-[#ebedf2] before:border-t-transparent hover:text-primary/70 ltr:pl-3 ltr:pr-2 ltr:before:-right-[15px] rtl:pl-2 rtl:pr-3 rtl:before:-left-[15px] rtl:before:rotate-180 dark:before:border-l-[#1b2e4b] dark:hover:text-white-dark/70">Home</a>
    </li>
    <li class="bg-[#ebedf2] dark:bg-[#1b2e4b]">
        <a
            class="relative flex h-full items-center bg-primary p-1.5 text-white-light before:absolute before:inset-y-0 before:z-[1] before:m-auto before:h-0 before:w-0 before:border-[16px] before:border-l-[15px] before:border-r-0 before:border-b-transparent before:border-l-primary before:border-t-transparent ltr:pl-6 ltr:pr-2 ltr:before:-right-[15px] rtl:pl-2 rtl:pr-6 rtl:before:-left-[15px] rtl:before:rotate-180">
            ALM Spare Invoice</a>
    </li>
    <li class="bg-[#ebedf2] dark:bg-[#1b2e4b]">
        <a
            class="relative flex h-full items-center p-1.5 px-3 before:absolute before:inset-y-0 before:z-[1] before:m-auto before:h-0 before:w-0 before:border-[16px] before:border-l-[15px] before:border-r-0 before:border-b-transparent before:border-l-[#ebedf2] before:border-t-transparent hover:text-primary/70 ltr:pl-6 ltr:before:-right-[15px] rtl:pr-6 rtl:before:-left-[15px] rtl:before:rotate-180 dark:before:border-l-[#1b2e4b] dark:hover:text-white-dark/70">
            Spare Invoice List</a>
    </li>
</ol>
<div class="panel mb-5 mt-5 pb-5">
    <div class="grid grid-cols-4 gap-4 sm:grid-cols-4">
        <div>
            <label for="name" class="small_label_text m-0 dark:text-white-dark" *ngIf="!isChecked">Bill Date
                Start</label>
            <label for="name" class="small_label_text m-0 dark:text-white-dark" *ngIf="isChecked">Post Invoice Date
                Start</label>
            <input type="date" [(ngModel)]="bill_date_start" class="form-input" ngxTippy="Bill Date Start"
                (change)="resetFields(1)" placeholder="Bill Date" />
        </div>
        <div>
            <label for="name" class="small_label_text m-0 dark:text-white-dark" *ngIf="!isChecked">Bill Date End</label>
            <label for="name" class="small_label_text m-0 dark:text-white-dark" *ngIf="isChecked">Post Invoice Date
                End</label>
            <input type="date" [(ngModel)]="bill_date_end" class="form-input" ngxTippy="Bill Date End"
                (change)="resetFields(1)" placeholder="Bill Date" />
        </div>
        <div>
            <label for="jobcard" class="small_label_text m-0 dark:text-white-dark">Supplier</label>
            <ng-select [searchable]="true" [clearable]="false" [selectOnTab]="true" class="custom-multiselect"
                placeholder="Select Supplier" [(ngModel)]="selectedSupplier" ngxTippy="Select Supplier"
                (change)="resetFields(2)">
                <ng-option value="0">All</ng-option>
                <ng-option value="{{ items.ss_id }}" *ngFor="let items of suppliersList">{{ items.ss_name
                    }}</ng-option>
            </ng-select>
        </div>
        <div>
            <label for="jobcard" class="small_label_text m-0 dark:text-white-dark">Purchase Type</label>
            <ng-select [searchable]="false" [clearable]="false" class="custom-multiselect"
                placeholder="Select Purchase Type" [(ngModel)]="purchaseType" [ngModelOptions]="{ standalone: true }"
                ngxTippy="Invoice Purchase Type" (change)="resetFields(3)">
                <ng-option value="0">All</ng-option>
                <ng-option value="1">Credit</ng-option>
                <ng-option value="2">Cash</ng-option>
            </ng-select>
        </div>
        <div>
            <label for="jobcard" class="small_label_text m-0 dark:text-white-dark">Type<span
                    style="font-size: 12px; color: grey;">(Consumables,General,Normal)</span></label>
            <ng-select [searchable]="false" [clearable]="false" class="custom-multiselect" placeholder="Select Type"
                [(ngModel)]="type" [ngModelOptions]="{ standalone: true }" ngxTippy="(Consumables,General,Normal)"
                (change)="resetFields(4)">
                <ng-option value="0">All</ng-option>
                <ng-option value="1">Consumables</ng-option>
                <ng-option value="2">General</ng-option>
                <ng-option value="3">Normal</ng-option>
            </ng-select>
        </div>
        <div>
            <label for="jobcard" class="small_label_text m-0 dark:text-white-dark">Service Advisor</label>
            <ng-select [searchable]="true" [clearable]="false" [selectOnTab]="true" class="custom-multiselect"
                placeholder="Select Service Advisor" [(ngModel)]="selectedSA" ngxTippy="Select Service Advisor"
                (change)="resetFields(5)">
                <ng-option value="0">All</ng-option>
                <ng-option value="{{ items.us_laabs_id }}" *ngFor="let items of userlist">{{
                    items.us_firstname}}</ng-option>
            </ng-select>
        </div>
        <div>
            <label for="jobcard" class="small_label_text m-0 dark:text-white-dark">Job Card</label>
            <ng-select [searchable]="false" [clearable]="false" class="custom-multiselect"
                placeholder="Select Job Card Status" [(ngModel)]="jbcardStatus" [ngModelOptions]="{ standalone: true }"
                ngxTippy="Select Job Card Status">
                <ng-option value="0">All</ng-option>
                <ng-option value="OPN">OPN</ng-option>
                <ng-option value="WIP">WIP</ng-option>
                <ng-option value="COMP">COMP</ng-option>
                <ng-option value="INV">INV</ng-option>
                <ng-option value="CAN">CAN</ng-option>
                <ng-option value="CLO">CLO</ng-option>
                <ng-option value="SUS">SUS</ng-option>
                <ng-option value="TST">TST</ng-option>

            </ng-select>
        </div>
        <div>
            <label for="name" class="small_label_text m-0 dark:text-white-dark" style="color: white;">.</label>
            <button type="button" (click)="getSpareInvoiceList()" class="btn btn-outline-primary">SEARCH</button>

        </div>
        <div>
            <label class="inline-flex mt-3" style="float: left;">
                <span class="peer-checked:text-info mr-1">Post Invoice Date</span>
                <label class="w-12 h-6 relative">
                    <input type="checkbox"
                        class="custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer"
                        id="custom_switch_checkbox2" [(ngModel)]="isChecked"
                        (change)="checkValue(isChecked ? true : false)" />
                    <span for="custom_switch_checkbox2"
                        class="outline_checkbox bg-icon border-2 border-[#ebedf2] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#ebedf2] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full before:bg-[url(/assets/images/close.svg)] before:bg-no-repeat before:bg-center peer-checked:before:left-7 peer-checked:before:bg-[url(/assets/images/checked.svg)] peer-checked:border-primary peer-checked:before:bg-primary before:transition-all before:duration-300"></span>
                </label>
            </label>
        </div>
        <div></div>
        <div></div>
        <div>
            <button type="button" class="btn btn-secondary " (click)="refresh()" style="float: right;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M15.9775 8.71452L15.5355 8.2621C13.5829 6.26318 10.4171 6.26318 8.46447 8.2621C6.51184 10.261 6.51184 13.5019 8.46447 15.5008C10.4171 17.4997 13.5829 17.4997 15.5355 15.5008C16.671 14.3384 17.1462 12.7559 16.9611 11.242M15.9775 8.71452H13.3258M15.9775 8.71452V6"
                        stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                        d="M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7"
                        stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" />
                </svg>
                Reset
            </button>
        </div>
    </div>
</div>
<div class="panel mt-6 pb-0">
    <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
        <h5 class="text-lg font-semibold dark:text-white-light">Spare Invoice List</h5>
        <div class="flex items-center gap-5 ltr:ml-auto rtl:mr-auto">
            <button type="button" class="btn btn-dark" style="float: right" (click)="postNewSpareInvoice();">Post
                Invoice</button>
            <button type="button" class="btn btn-success" style="float: right" (click)="createNewSpareInvoice();">ADD
                NEW NM Invoice</button>
            <div hlMenu class="dropdown">
                <button hlMenuButton type="button"
                    class="flex items-center rounded-md border border-[#e0e6ed] px-4 py-2 text-sm font-semibold dark:border-[#253b5c] dark:bg-[#1b2e4b] dark:text-white-dark">
                    <span class="ltr:mr-1 rtl:ml-1">Columns</span>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                        class="h-5 w-5">
                        <path d="M19 9L12 15L5 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </button>
                <ul *hlMenuItems @toggleAnimation class="w-max ltr:left-0 rtl:right-0" style="z-index: 100">
                    <ng-container *ngFor="let col of cols; index as i">
                        <li>
                            <div class="flex items-center px-4 py-1">
                                <label [for]="'chk-' + i" class="mb-0 cursor-pointer">
                                    <input type="checkbox" [id]="'chk-' + i" class="form-checkbox"
                                        [(ngModel)]="!col.hide" (change)="updateColumn(col)" />
                                    <span class="ltr:ml-2 rtl:mr-2">{{ col.title }}</span>
                                </label>
                            </div>
                        </li>
                    </ng-container>
                </ul>
            </div>
            <input [(ngModel)]="search" type="text" class="form-input w-auto" placeholder="Search..." />
        </div>
    </div>
    <div class="datatable" *ngIf="!load_flag">
        <ng-datatable [rows]="spareInvoices" [columns]="cols" [search]="search" [sortable]="true"
            skin="whitespace-nowrap table-hover bh-table-compact"
            firstArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
            lastArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> '
            previousArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
            nextArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'>
            <ng-template slot="inv_nm_id" let-value="data">
                <button type="button" class="btn btn-outline-primary btn-sm" (click)="viewSpareInvoice(value)">
                    ALM{{ value.inv_nm_id }}</button>
            </ng-template>
            <ng-template slot="finalsubtotal_credit" let-value="data">
                <span *ngIf="value.inv_nm_purchase_type == '1'" style="float: right;">{{ value.finalsubtotal}}</span>
            </ng-template>
            <ng-template slot="finalsubtotal_cash" let-value="data">
                <span *ngIf="value.inv_nm_purchase_type == '2'" style="float: right;">{{ value.finalsubtotal}}</span>
            </ng-template>
            <ng-template slot="totalPrice" let-value="data">
                <span style="float: right;">{{ value.totalPrice}}</span>
            </ng-template>
            <ng-template slot="variation_margin" let-value="data">
                <span style="float: right;">{{ value.variation_margin}}%</span>
            </ng-template>
            <ng-template slot="inv_jobcard_no" let-value="data">
                <span *ngIf="value.inv_jobcard_no != null && value.inv_jobcard_no != ''" class="badge bg-secondary">{{
                    value.inv_jobcard_no }}</span>
            </ng-template>
            <ng-template slot="job_status" let-value="data">
                <span class="badge badge-outline-dark" *ngIf="value.job_status=='OPN'">{{ value.job_status }}</span>
                <span class="badge badge-outline-danger" *ngIf="value.job_status=='CAN'">{{ value.job_status
                    }}</span>
                <span class="badge badge-outline-secondary" *ngIf="value.job_status=='WIP'">{{ value.job_status
                    }}</span>
                <span class="badge badge-outline-success" *ngIf="value.job_status=='INV'">{{ value.job_status}}</span>
                <span class="badge badge-outline-warning" *ngIf="value.job_status!='OPN' && value.job_status!='CAN' 
                    && value.job_status!='WIP'&& value.job_status!='INV' && value.job_status!=null ">{{
                    value.job_status}}</span>
            </ng-template>
            <ng-template slot="action" let-value="data">
                <div class="flex items-center">
                    <div>
                        <button type="button" ngxTippy="Print" (click)="printSpareInvoice(value.inv_id)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M6 17.9827C4.44655 17.9359 3.51998 17.7626 2.87868 17.1213C2 16.2426 2 14.8284 2 12C2 9.17157 2 7.75736 2.87868 6.87868C3.75736 6 5.17157 6 8 6H16C18.8284 6 20.2426 6 21.1213 6.87868C22 7.75736 22 9.17157 22 12C22 14.8284 22 16.2426 21.1213 17.1213C20.48 17.7626 19.5535 17.9359 18 17.9827"
                                    stroke="#1C274C" stroke-width="1.5" />
                                <path opacity="0.5" d="M9 10H6" stroke="#1C274C" stroke-width="1.5"
                                    stroke-linecap="round" />
                                <path d="M19 14L5 14" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                <path
                                    d="M18 14V16C18 18.8284 18 20.2426 17.1213 21.1213C16.2426 22 14.8284 22 12 22C9.17157 22 7.75736 22 6.87868 21.1213C6 20.2426 6 18.8284 6 16V14"
                                    stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                <path opacity="0.5"
                                    d="M17.9827 6C17.9359 4.44655 17.7626 3.51998 17.1213 2.87868C16.2427 2 14.8284 2 12 2C9.17158 2 7.75737 2 6.87869 2.87868C6.23739 3.51998 6.06414 4.44655 6.01733 6"
                                    stroke="#1C274C" stroke-width="1.5" />
                                <circle opacity="0.5" cx="17" cy="10" r="1" fill="#1C274C" />
                                <path opacity="0.5" d="M15 16.5H9" stroke="#1C274C" stroke-width="1.5"
                                    stroke-linecap="round" />
                                <path opacity="0.5" d="M13 19H9" stroke="#1C274C" stroke-width="1.5"
                                    stroke-linecap="round" />
                            </svg>

                        </button>
                    </div>
                    <div>
                        <button type="button" class="ltr:mr-2 rtl:ml-2" ngxTippy="Edit"
                            (click)="viewSpareInvoice(value)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg" class="h-4.5 w-4.5 text-success">
                                <path
                                    d="M15.2869 3.15178L14.3601 4.07866L5.83882 12.5999L5.83881 12.5999C5.26166 13.1771 4.97308 13.4656 4.7249 13.7838C4.43213 14.1592 4.18114 14.5653 3.97634 14.995C3.80273 15.3593 3.67368 15.7465 3.41556 16.5208L2.32181 19.8021L2.05445 20.6042C1.92743 20.9852 2.0266 21.4053 2.31063 21.6894C2.59466 21.9734 3.01478 22.0726 3.39584 21.9456L4.19792 21.6782L7.47918 20.5844L7.47919 20.5844C8.25353 20.3263 8.6407 20.1973 9.00498 20.0237C9.43469 19.8189 9.84082 19.5679 10.2162 19.2751C10.5344 19.0269 10.8229 18.7383 11.4001 18.1612L11.4001 18.1612L19.9213 9.63993L20.8482 8.71306C22.3839 7.17735 22.3839 4.68748 20.8482 3.15178C19.3125 1.61607 16.8226 1.61607 15.2869 3.15178Z"
                                    stroke="currentColor" stroke-width="1.5" />
                                <path opacity="0.5"
                                    d="M14.36 4.07812C14.36 4.07812 14.4759 6.04774 16.2138 7.78564C17.9517 9.52354 19.9213 9.6394 19.9213 9.6394M4.19789 21.6777L2.32178 19.8015"
                                    stroke="currentColor" stroke-width="1.5" />
                            </svg>
                        </button>
                    </div>
                    <div>
                        <button type="button" ngxTippy="Delete">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-danger">
                                <path d="M20.5001 6H3.5" stroke="currentColor" stroke-width="1.5"
                                    stroke-linecap="round" />
                                <path
                                    d="M18.8334 8.5L18.3735 15.3991C18.1965 18.054 18.108 19.3815 17.243 20.1907C16.378 21 15.0476 21 12.3868 21H11.6134C8.9526 21 7.6222 21 6.75719 20.1907C5.89218 19.3815 5.80368 18.054 5.62669 15.3991L5.16675 8.5"
                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                <path opacity="0.5" d="M9.5 11L10 16" stroke="currentColor" stroke-width="1.5"
                                    stroke-linecap="round" />
                                <path opacity="0.5" d="M14.5 11L14 16" stroke="currentColor" stroke-width="1.5"
                                    stroke-linecap="round" />
                                <path opacity="0.5"
                                    d="M6.5 6C6.55588 6 6.58382 6 6.60915 5.99936C7.43259 5.97849 8.15902 5.45491 8.43922 4.68032C8.44784 4.65649 8.45667 4.62999 8.47434 4.57697L8.57143 4.28571C8.65431 4.03708 8.69575 3.91276 8.75071 3.8072C8.97001 3.38607 9.37574 3.09364 9.84461 3.01877C9.96213 3 10.0932 3 10.3553 3H13.6447C13.9068 3 14.0379 3 14.1554 3.01877C14.6243 3.09364 15.03 3.38607 15.2493 3.8072C15.3043 3.91276 15.3457 4.03708 15.4286 4.28571L15.5257 4.57697C15.5433 4.62992 15.5522 4.65651 15.5608 4.68032C15.841 5.45491 16.5674 5.97849 17.3909 5.99936C17.4162 6 17.4441 6 17.5 6"
                                    stroke="currentColor" stroke-width="1.5" />
                            </svg>
                        </button>
                    </div>
                    <div>
                        <button type="button" ngxTippy="Activity Log" (click)="activityLogModalOpen(value)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M9 12C9 12.5523 8.55228 13 8 13C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11C8.55228 11 9 11.4477 9 12Z"
                                    fill="#1C274C" />
                                <path
                                    d="M13 12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12C11 11.4477 11.4477 11 12 11C12.5523 11 13 11.4477 13 12Z"
                                    fill="#1C274C" />
                                <path
                                    d="M16 13C16.5523 13 17 12.5523 17 12C17 11.4477 16.5523 11 16 11C15.4477 11 15 11.4477 15 12C15 12.5523 15.4477 13 16 13Z"
                                    fill="#1C274C" />
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M12.0574 1.25H11.9426C9.63424 1.24999 7.82519 1.24998 6.41371 1.43975C4.96897 1.63399 3.82895 2.03933 2.93414 2.93414C2.03933 3.82895 1.63399 4.96897 1.43975 6.41371C1.24998 7.82519 1.24999 9.63422 1.25 11.9426V12.0574C1.24999 14.3658 1.24998 16.1748 1.43975 17.5863C1.63399 19.031 2.03933 20.1711 2.93414 21.0659C3.82895 21.9607 4.96897 22.366 6.41371 22.5603C7.82519 22.75 9.63423 22.75 11.9426 22.75H12.0574C14.3658 22.75 16.1748 22.75 17.5863 22.5603C19.031 22.366 20.1711 21.9607 21.0659 21.0659C21.9607 20.1711 22.366 19.031 22.5603 17.5863C22.75 16.1748 22.75 14.3658 22.75 12.0574V11.9426C22.75 9.63423 22.75 7.82519 22.5603 6.41371C22.366 4.96897 21.9607 3.82895 21.0659 2.93414C20.1711 2.03933 19.031 1.63399 17.5863 1.43975C16.1748 1.24998 14.3658 1.24999 12.0574 1.25ZM3.9948 3.9948C4.56445 3.42514 5.33517 3.09825 6.61358 2.92637C7.91356 2.75159 9.62177 2.75 12 2.75C14.3782 2.75 16.0864 2.75159 17.3864 2.92637C18.6648 3.09825 19.4355 3.42514 20.0052 3.9948C20.5749 4.56445 20.9018 5.33517 21.0736 6.61358C21.2484 7.91356 21.25 9.62177 21.25 12C21.25 14.3782 21.2484 16.0864 21.0736 17.3864C20.9018 18.6648 20.5749 19.4355 20.0052 20.0052C19.4355 20.5749 18.6648 20.9018 17.3864 21.0736C16.0864 21.2484 14.3782 21.25 12 21.25C9.62177 21.25 7.91356 21.2484 6.61358 21.0736C5.33517 20.9018 4.56445 20.5749 3.9948 20.0052C3.42514 19.4355 3.09825 18.6648 2.92637 17.3864C2.75159 16.0864 2.75 14.3782 2.75 12C2.75 9.62177 2.75159 7.91356 2.92637 6.61358C3.09825 5.33517 3.42514 4.56445 3.9948 3.9948Z"
                                    fill="#1C274C" />
                            </svg>

                        </button>

                    </div>
                </div>
            </ng-template>
        </ng-datatable>
    </div>
    <div *ngIf="load_flag" style="text-align: center">
        <span
            class="m-auto mb-10 inline-block h-14 w-14 animate-[spin_3s_linear_infinite] rounded-full border-8 border-b-success border-l-primary border-r-warning border-t-danger align-middle"></span>
    </div>
</div>
<modal #activityLogModal class="modal-top animate animate-slide-in-down" [closeOnOutsideClick]="false"
    style="max-width: 90vw;">
    <ng-template #modalHeader>
        <div style=" align-items: center; display: flex; ">
            Activity Log
        </div>
    </ng-template>
    <ng-template #modalBody>
        <div class="panel">
            <!-- <div class="mb-5 flex items-center justify-between">
                <h5 class="text-lg font-semibold dark:text-white-light">Activity Log</h5>
            </div> -->
            <div class="panel flex-1 p-0">
                <ng-container>
                    <div class="relative h-full pb-[68px]">
                        <div class="h-px w-full border-b border-[#e0e6ed] dark:border-[#1b2e4b]"></div>
                        <ng-scrollbar #scrollable
                            class="chat-conversation-box relative !h-[calc(100vh_-_289px)] min-h-[300px] sm:!h-[calc(100vh_-_300px)]"
                            visibility="native">
                            <div class="space-y-5 p-4" *ngIf="invlogs.length>0">
                                <div class="flex items-start gap-3" *ngFor="let log of invlogs">
                                    <div class="space-y-2">
                                        <div class="flex items-center gap-3">
                                            <div class="rounded-md bg-black/10 p-4 py-2 dark:bg-gray-800"
                                                [ngClass]="'!bg-success text-white ltr:rounded-br-none rtl:rounded-bl-none'">
                                                {{ log.inv_log_note }} by <b>{{ log.us_firstname }}</b>
                                            </div>
                                        </div>
                                        <div class="text-xs text-white-dark rtl:text-left">
                                            {{ log.inv_log_created_on }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-scrollbar>
                    </div>
                </ng-container>
            </div>
        </div>
    </ng-template>
    <ng-template #modalFooter>
        <button type="button" (click)="activityLogModalClose()" class="btn btn-outline-danger">DISMISS</button>
    </ng-template>
</modal>